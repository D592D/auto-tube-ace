import{c as ve,a as je,b as Se,j as e,f as A,u as T,o as be,P as K,r as ye}from"./ui-4vzYMC9E.js";import{r as m}from"./vendor-BNoTEEtH.js";import{c as we,i as Ne,u as Ce,C as O,b as z,d as $,M as U,e as G,B as Y,L as Pe,f as J,j as Re,k as De,h as Ee,J as k}from"./index-aHVGgq0V.js";import{T as Ve}from"./textarea-UnZn7Vo0.js";import{u as Ae,e as se,S as _e,a as Ie,b as Me,c as ke,d as Te}from"./select-IoDiSNrm.js";import{V as Be}from"./volume-2-B7jLbdTk.js";import{F as te}from"./file-audio-ddJsRmoG.js";import{D as Ke}from"./download-mfKfPaqZ.js";import"./utils-CYC2HZ_g.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=we("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);var ne=["PageUp","PageDown"],re=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ae={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_="Slider",[W,Le,Fe]=ve(_),[oe,ft]=je(_,[Fe]),[Oe,H]=oe(_),ie=m.forwardRef((t,s)=>{const{name:n,min:r=0,max:i=100,step:d=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:p=[r],value:S,onValueChange:l=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:w,...g}=t,j=m.useRef(new Set),x=m.useRef(0),b=a==="horizontal"?ze:$e,[v=[],o]=Se({prop:S,defaultProp:p,onChange:y=>{var E;(E=[...j.current][x.current])==null||E.focus(),l(y)}}),C=m.useRef(v);function I(y){const R=We(v,y);P(y,R)}function L(y){P(y,x.current)}function B(){const y=C.current[x.current];v[x.current]!==y&&f(v)}function P(y,R,{commit:E}={commit:!1}){const Z=Ze(d),F=et(Math.round((y-r)/d)*d+r,Z),M=se(F,[r,i]);o((V=[])=>{const D=Ye(V,M,R);if(qe(D,u*d)){x.current=D.indexOf(M);const ee=String(D)!==String(V);return ee&&E&&f(D),ee?D:V}else return V})}return e.jsx(Oe,{scope:t.__scopeSlider,name:n,disabled:c,min:r,max:i,valueIndexToChangeRef:x,thumbs:j.current,values:v,orientation:a,form:w,children:e.jsx(W.Provider,{scope:t.__scopeSlider,children:e.jsx(W.Slot,{scope:t.__scopeSlider,children:e.jsx(b,{"aria-disabled":c,"data-disabled":c?"":void 0,...g,ref:s,onPointerDown:A(g.onPointerDown,()=>{c||(C.current=v)}),min:r,max:i,inverted:h,onSlideStart:c?void 0:I,onSlideMove:c?void 0:L,onSlideEnd:c?void 0:B,onHomeKeyDown:()=>!c&&P(r,0,{commit:!0}),onEndKeyDown:()=>!c&&P(i,v.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:R})=>{if(!c){const F=ne.includes(y.key)||y.shiftKey&&re.includes(y.key)?10:1,M=x.current,V=v[M],D=d*F*R;P(V+D,M,{commit:!0})}}})})})})});ie.displayName=_;var[le,ce]=oe(_,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ze=m.forwardRef((t,s)=>{const{min:n,max:r,dir:i,inverted:d,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onStepKeyDown:p,...S}=t,[l,f]=m.useState(null),h=T(s,b=>f(b)),w=m.useRef(),g=be(i),j=g==="ltr",x=j&&!d||!j&&d;function N(b){const v=w.current||l.getBoundingClientRect(),o=[0,v.width],I=q(o,x?[n,r]:[r,n]);return w.current=v,I(b-v.left)}return e.jsx(le,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:e.jsx(de,{dir:g,"data-orientation":"horizontal",...S,ref:h,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const v=N(b.clientX);a==null||a(v)},onSlideMove:b=>{const v=N(b.clientX);c==null||c(v)},onSlideEnd:()=>{w.current=void 0,u==null||u()},onStepKeyDown:b=>{const o=ae[x?"from-left":"from-right"].includes(b.key);p==null||p({event:b,direction:o?-1:1})}})})}),$e=m.forwardRef((t,s)=>{const{min:n,max:r,inverted:i,onSlideStart:d,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...p}=t,S=m.useRef(null),l=T(s,S),f=m.useRef(),h=!i;function w(g){const j=f.current||S.current.getBoundingClientRect(),x=[0,j.height],b=q(x,h?[r,n]:[n,r]);return f.current=j,b(g-j.top)}return e.jsx(le,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:e.jsx(de,{"data-orientation":"vertical",...p,ref:l,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const j=w(g.clientY);d==null||d(j)},onSlideMove:g=>{const j=w(g.clientY);a==null||a(j)},onSlideEnd:()=>{f.current=void 0,c==null||c()},onStepKeyDown:g=>{const x=ae[h?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:x?-1:1})}})})}),de=m.forwardRef((t,s)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:d,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:u,...p}=t,S=H(_,n);return e.jsx(K.span,{...p,ref:s,onKeyDown:A(t.onKeyDown,l=>{l.key==="Home"?(a(l),l.preventDefault()):l.key==="End"?(c(l),l.preventDefault()):ne.concat(re).includes(l.key)&&(u(l),l.preventDefault())}),onPointerDown:A(t.onPointerDown,l=>{const f=l.target;f.setPointerCapture(l.pointerId),l.preventDefault(),S.thumbs.has(f)?f.focus():r(l)}),onPointerMove:A(t.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&i(l)}),onPointerUp:A(t.onPointerUp,l=>{const f=l.target;f.hasPointerCapture(l.pointerId)&&(f.releasePointerCapture(l.pointerId),d(l))})})}),ue="SliderTrack",me=m.forwardRef((t,s)=>{const{__scopeSlider:n,...r}=t,i=H(ue,n);return e.jsx(K.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:s})});me.displayName=ue;var X="SliderRange",fe=m.forwardRef((t,s)=>{const{__scopeSlider:n,...r}=t,i=H(X,n),d=ce(X,n),a=m.useRef(null),c=T(s,a),u=i.values.length,p=i.values.map(f=>xe(f,i.min,i.max)),S=u>1?Math.min(...p):0,l=100-Math.max(...p);return e.jsx(K.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:c,style:{...t.style,[d.startEdge]:S+"%",[d.endEdge]:l+"%"}})});fe.displayName=X;var Q="SliderThumb",he=m.forwardRef((t,s)=>{const n=Le(t.__scopeSlider),[r,i]=m.useState(null),d=T(s,c=>i(c)),a=m.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return e.jsx(Ue,{...t,ref:d,index:a})}),Ue=m.forwardRef((t,s)=>{const{__scopeSlider:n,index:r,name:i,...d}=t,a=H(Q,n),c=ce(Q,n),[u,p]=m.useState(null),S=T(s,N=>p(N)),l=u?a.form||!!u.closest("form"):!0,f=ye(u),h=a.values[r],w=h===void 0?0:xe(h,a.min,a.max),g=Je(r,a.values.length),j=f==null?void 0:f[c.size],x=j?Xe(j,w,c.direction):0;return m.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${w}% + ${x}px)`},children:[e.jsx(W.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(K.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...d,ref:S,style:h===void 0?{display:"none"}:t.style,onFocus:A(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),l&&e.jsx(Ge,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});he.displayName=Q;var Ge=t=>{const{value:s,...n}=t,r=m.useRef(null),i=Ae(s);return m.useEffect(()=>{const d=r.current,a=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==s&&u){const p=new Event("input",{bubbles:!0});u.call(d,s),d.dispatchEvent(p)}},[i,s]),e.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:s})};function Ye(t=[],s,n){const r=[...t];return r[n]=s,r.sort((i,d)=>i-d)}function xe(t,s,n){const d=100/(n-s)*(t-s);return se(d,[0,100])}function Je(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function We(t,s){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-s)),r=Math.min(...n);return n.indexOf(r)}function Xe(t,s,n){const r=t/2,d=q([0,50],[0,r]);return(r-d(s)*n)*n}function Qe(t){return t.slice(0,-1).map((s,n)=>t[n+1]-s)}function qe(t,s){if(s>0){const n=Qe(t);return Math.min(...n)>=s}return!0}function q(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(n-t[0])}}function Ze(t){return(String(t).split(".")[1]||"").length}function et(t,s){const n=Math.pow(10,s);return Math.round(t*n)/n}var pe=ie,tt=me,st=fe,nt=he;const ge=m.forwardRef(({className:t,...s},n)=>e.jsxs(pe,{ref:n,className:Ne("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(tt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(st,{className:"absolute h-full bg-primary"})}),e.jsx(nt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ge.displayName=pe.displayName;const ht=()=>{var v;const[t,s]=m.useState(""),[n,r]=m.useState("aria"),[i,d]=m.useState([1]),[a,c]=m.useState(!1),[u,p]=m.useState(null),[S,l]=m.useState(!1),[f,h]=m.useState(null),{generateVoice:w}=Ce(),g=[{id:"aria",name:"Aria",description:"Warm and friendly female voice"},{id:"david",name:"David",description:"Professional male voice"},{id:"emma",name:"Emma",description:"Clear and articulate female voice"},{id:"james",name:"James",description:"Deep and authoritative male voice"},{id:"sophia",name:"Sophia",description:"Elegant and sophisticated female voice"},{id:"oliver",name:"Oliver",description:"Youthful and energetic male voice"}],j=async()=>{if(!t.trim()){k.error("Please enter some text to generate voice");return}c(!0),p(null);try{const o=await w(t,n,i[0]);if(o.audioContent){const C=new Blob([Uint8Array.from(atob(o.audioContent),P=>P.charCodeAt(0))],{type:"audio/mpeg"}),I=URL.createObjectURL(C);p(I);const L={text:t,voice_id:n,speed:i[0],audioContent:o.audioContent,duration:t.split(" ").length/2.5*60/60},B=JSON.parse(localStorage.getItem("generated_voices")||"[]");B.unshift(L),localStorage.setItem("generated_voices",JSON.stringify(B.slice(0,10))),k.success("Voice generated and saved for video creation!")}else throw new Error("No audio content received")}catch(o){console.error("Voice generation error:",o),k.error(`Failed to generate voice: ${o.message}`)}finally{c(!1)}},x=()=>{if(!u)return;f&&(f.pause(),h(null),l(!1));const o=new Audio(u);o.onended=()=>{l(!1),h(null)},o.onerror=()=>{k.error("Error playing audio"),l(!1),h(null)},h(o),l(!0),o.play()},N=()=>{f&&(f.pause(),l(!1),h(null))},b=()=>{if(!u)return;const o=document.createElement("a");o.href=u,o.download=`voice-${n}-${Date.now()}.mp3`,document.body.appendChild(o),o.click(),document.body.removeChild(o),k.success("Audio downloaded!")};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(O,{className:"bg-gradient-to-br from-purple-900/10 to-blue-900/10 border-purple-500/20",children:[e.jsx(z,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-purple-400"}),"Text to Speech"]})}),e.jsxs(G,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Text Content"}),e.jsx(Ve,{placeholder:"Enter the text you want to convert to speech...",value:t,onChange:o=>s(o.target.value),rows:6,className:"resize-none"}),e.jsxs("div",{className:"text-xs text-gray-400",children:[t.length," characters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Voice"}),e.jsxs(_e,{value:n,onValueChange:r,children:[e.jsx(Ie,{children:e.jsx(Me,{})}),e.jsx(ke,{children:g.map(o=>e.jsx(Te,{value:o.id,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{className:"text-xs text-gray-400",children:o.description})]})},o.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Speed: ",i[0],"x"]}),e.jsx(ge,{value:i,onValueChange:d,min:.5,max:2,step:.1,className:"w-full"})]})]}),e.jsx(Y,{onClick:j,disabled:a||!t.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Voice..."]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Generate AI Voice"]})})]})]}),e.jsxs(O,{children:[e.jsx(z,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5"}),"Audio Player"]})}),e.jsx(G,{className:"space-y-4",children:u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:e.jsx(te,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Generated Voice"}),e.jsxs("div",{className:"text-sm text-gray-400",children:[(v=g.find(o=>o.id===n))==null?void 0:v.name," • ",i[0],"x speed"]})]})]}),e.jsx(J,{variant:"default",children:"Ready"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{onClick:S?N:x,className:"flex-1",children:S?e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Play"]})}),e.jsxs(Y,{onClick:b,variant:"outline",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Download"]})]}),e.jsx("div",{className:"h-20 bg-gray-800/30 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"flex items-end gap-1 h-12",children:Array.from({length:40},(o,C)=>e.jsx("div",{className:`w-1 bg-gradient-to-t from-purple-600 to-blue-400 rounded-sm ${S?"animate-pulse":""}`,style:{height:`${Math.random()*100}%`,animationDelay:`${C*50}ms`}},C))})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(te,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),e.jsx("div",{className:"text-gray-400 mb-2",children:"No audio generated yet"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Enter text and generate voice to see audio player"})]})})]}),e.jsxs(O,{className:"lg:col-span-2",children:[e.jsx(z,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5"}),"Voice Library"]})}),e.jsx(G,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(o=>e.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${n===o.id?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>r(o.id),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:e.jsx(U,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{className:"text-xs text-gray-400 capitalize",children:o.id})]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:o.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(J,{variant:"outline",className:"text-xs",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),"Natural"]}),e.jsx(J,{variant:"outline",className:"text-xs",children:"High Quality"})]})]},o.id))})})]})]})};export{ht as VoiceStudio};
